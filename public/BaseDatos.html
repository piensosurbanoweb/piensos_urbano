 <!-- Contenido de la Base de Datos -->
    <div class="bg-white p-6 rounded-lg shadow-md max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-800 mb-6">Base de Datos de Clientes</h2>
        <button id="add-client-button" class="bg-blue-500 text-white px-6 py-3 rounded-lg shadow-lg hover:bg-blue-600 transition duration-300 mb-6">
            Agregar Cliente
        </button>

        <!-- Barra de búsqueda -->
        <div class="mb-4">
            <input type="text" id="search-input" placeholder="Buscar clientes..." class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <div id="clients-list" class="space-y-4">
            <!-- Los clientes se cargarán aquí dinámicamente -->
        </div>
    </div>

    <!-- Modal para agregar/editar cliente -->
    <div id="client-modal" class="modal fixed inset-0 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-lg w-full">
            <h3 id="modal-title" class="text-2xl font-bold mb-6 text-gray-800"></h3>
            <form id="client-form" class="space-y-4">
                <input type="hidden" id="client-id">
                <div>
                    <label for="client-name" class="block text-sm font-medium text-gray-700">Nombre</label>
                    <input type="text" id="client-name" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div>
                    <label for="client-email" class="block text-sm font-medium text-gray-700">Email</label>
                    <input type="email" id="client-email" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div>
                    <label for="client-phone" class="block text-sm font-medium text-gray-700">Teléfono</label>
                    <input type="tel" id="client-phone" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div class="flex justify-end space-x-4 mt-6">
                    <button type="button" id="cancel-button" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition duration-300">
                        Cancelar
                    </button>
                    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition duration-300">
                        Guardar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de confirmación de eliminación -->
    <div id="confirm-modal" class="modal fixed inset-0 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-sm w-full text-center">
            <h3 class="text-xl font-bold mb-4">¿Estás seguro?</h3>
            <p class="mb-6 text-gray-600">Esta acción no se puede deshacer. El cliente será eliminado permanentemente.</p>
            <div class="flex justify-center space-x-4">
                <button id="cancel-delete-button" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition duration-300">
                    Cancelar
                </button>
                <button id="confirm-delete-button" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-300">
                    Eliminar
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const clientsList = document.getElementById('clients-list');
            const addClientButton = document.getElementById('add-client-button');
            const clientModal = document.getElementById('client-modal');
            const confirmModal = document.getElementById('confirm-modal');
            const clientForm = document.getElementById('client-form');
            const modalTitle = document.getElementById('modal-title');
            const cancelEditButton = document.getElementById('cancel-button');
            const cancelDeleteButton = document.getElementById('cancel-delete-button');
            const confirmDeleteButton = document.getElementById('confirm-delete-button');
            const searchInput = document.getElementById('search-input');
            
            let clients = JSON.parse(localStorage.getItem('clients')) || [];
            let clientToDeleteId = null;

            // Función para cargar los clientes en la UI
            const loadClients = (filter = '') => {
                clientsList.innerHTML = '';
                const filteredClients = clients.filter(client =>
                    client.name.toLowerCase().includes(filter.toLowerCase()) ||
                    client.email.toLowerCase().includes(filter.toLowerCase())
                );
                
                if (filteredClients.length === 0) {
                    clientsList.innerHTML = `<p class="text-gray-500 text-center">No hay clientes para mostrar.</p>`;
                    return;
                }

                filteredClients.forEach(client => {
                    const clientCard = document.createElement('div');
                    clientCard.className = 'bg-gray-50 p-4 rounded-lg shadow-sm flex justify-between items-center transition duration-200 hover:bg-gray-100';
                    clientCard.innerHTML = `
                        <div>
                            <p class="font-bold text-gray-900">${client.name}</p>
                            <p class="text-sm text-gray-600">${client.email}</p>
                            <p class="text-sm text-gray-600">${client.phone}</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="edit-button bg-yellow-500 text-white p-2 rounded-full hover:bg-yellow-600 transition duration-300" data-id="${client.id}">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />
                                    <path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" />
                                </svg>
                            </button>
                            <button class="delete-button bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition duration-300" data-id="${client.id}">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z" clip-rule="evenodd" />
                                </svg>
                            </button>
                        </div>
                    `;
                    clientsList.appendChild(clientCard);
                });
            };

            // Función para abrir la modal (agregar o editar)
            const openClientModal = (client = null) => {
                clientModal.classList.remove('hidden');
                if (client) {
                    modalTitle.textContent = 'Editar Cliente';
                    document.getElementById('client-id').value = client.id;
                    document.getElementById('client-name').value = client.name;
                    document.getElementById('client-email').value = client.email;
                    document.getElementById('client-phone').value = client.phone;
                } else {
                    modalTitle.textContent = 'Agregar Cliente';
                    clientForm.reset();
                    document.getElementById('client-id').value = '';
                }
            };

            // Función para cerrar la modal de cliente
            const closeClientModal = () => {
                clientModal.classList.add('hidden');
            };

            // Función para cerrar la modal de confirmación
            const closeConfirmModal = () => {
                confirmModal.classList.add('hidden');
                clientToDeleteId = null;
            };

            // Evento para abrir la modal de agregar
            addClientButton.addEventListener('click', () => openClientModal());

            // Evento para cerrar la modal de agregar/editar
            cancelEditButton.addEventListener('click', closeClientModal);

            // Evento para cerrar la modal de confirmación
            cancelDeleteButton.addEventListener('click', closeConfirmModal);

            // Evento para guardar el cliente (agregar o editar)
            clientForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const id = document.getElementById('client-id').value;
                const name = document.getElementById('client-name').value;
                const email = document.getElementById('client-email').value;
                const phone = document.getElementById('client-phone').value;

                if (id) {
                    // Editar cliente
                    clients = clients.map(client => client.id === id ? { id, name, email, phone } : client);
                } else {
                    // Agregar cliente
                    const newClient = { id: Date.now().toString(), name, email, phone };
                    clients.push(newClient);
                }

                localStorage.setItem('clients', JSON.stringify(clients));
                loadClients(searchInput.value);
                closeClientModal();
            });

            // Evento de clic en la lista de clientes (delegación de eventos)
            clientsList.addEventListener('click', (e) => {
                if (e.target.closest('.edit-button')) {
                    const button = e.target.closest('.edit-button');
                    const id = button.dataset.id;
                    const clientToEdit = clients.find(client => client.id === id);
                    if (clientToEdit) {
                        openClientModal(clientToEdit);
                    }
                }

                if (e.target.closest('.delete-button')) {
                    const button = e.target.closest('.delete-button');
                    clientToDeleteId = button.dataset.id;
                    confirmModal.classList.remove('hidden');
                }
            });

            // Evento para confirmar la eliminación
            confirmDeleteButton.addEventListener('click', () => {
                if (clientToDeleteId) {
                    clients = clients.filter(client => client.id !== clientToDeleteId);
                    localStorage.setItem('clients', JSON.stringify(clients));
                    loadClients(searchInput.value);
                    closeConfirmModal();
                }
            });

            // Evento para la barra de búsqueda
            searchInput.addEventListener('input', (e) => {
                loadClients(e.target.value);
            });

            // Cargar clientes iniciales
            loadClients();
        });
    </script>
